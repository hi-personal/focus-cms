import{m as d,a as r}from"./boxicons-CXH_nB3v.js";import{j as f}from"./jquery-uoon-iQo.js";import"./preview-post-content-DTlHUyft.js";import{o as u,a as m}from"./image-picker-BNqc1Sk_.js";function w(l){let e=!1,i=0;const t=document.getElementById("myeditor"),o=$('input[name="editor_status"');o.val()=="focused"&&(n("click"),$("body").addClass("overflow-y-hidden"),$("#exit-editor").removeClass("hidden").addClass("inline-flex"),o.val("focused")),$(t).on("click",function(){e==!1&&(n("click"),$("body").addClass("overflow-y-hidden"),$("#exit-editor").removeClass("hidden").addClass("inline-flex"),o.val("focused"))}),$(window).on("resize",function(){e==!0&&n()});function n(s=null){let a=$(t).offset().top;i=$(window).height(),i=i-140,t.style.height=i+"px";var c=$("#postEditNavContainer").height()>50?150:100;$("html, body").animate({scrollTop:a-c},100),s=="click"&&(e=!0)}$("#exit-editor").on("click",function(){e=!1,$("body").removeClass("overflow-y-hidden"),$("#exit-editor").addClass("hidden").addClass("inline-flex"),$("html, body").animate({scrollTop:0},100),o.val("unfocused")})}window.currentGalleryDiv=null;window.editor=null;document.addEventListener("DOMContentLoaded",function(){window.editor=$("#myeditor").length>0?$("#myeditor"):$("<textarea>",{name:"myeditor",id:"myeditor"}),window.editor.on("click",".gallery-line",function(){$(".gallery-line").removeClass("selected"),$(this).addClass("selected")}),$(document).on("click",function(e){$(e.target).closest(".gallery-line").length||$(".gallery-line").removeClass("selected")}),w(),$(window).on("keydown",function(e){if((e.ctrlKey||e.metaKey)&&e.key.toLowerCase()==="p")return e.preventDefault(),console.log("Ctrl+P letiltva, kattintás aktiválva"),$(".previewButton").trigger("click"),!1}),$(".insert-image-album").click(function(){var e=$(this).data("mode"),i=$(this).data("input-id");u(e??"insert",i??null)}),$(".insert-file-album").click(function(){m()}),window.insertContent=function(e,i){if(e instanceof jQuery&&(e=e.get(0)),e&&e.selectionStart!==void 0){let t=e.selectionStart,o=e.selectionEnd,n=e.value;e.value=n.slice(0,t)+i+n.slice(o),e.selectionStart=e.selectionEnd=t+i.length,e.dispatchEvent(new Event("input",{bubbles:!0})),e.focus()}},document.addEventListener("keydown",function(e){(e.key==="Escape"||e.keyCode===27)&&l()});function l(){const e=$("#imagePickerModal"),i=$("#imagePreviewModal");i.hasClass("hidden")?e.hasClass("hidden")||(e.addClass("hidden"),$("body").removeClass("overflow-y-hidden")):i.addClass("hidden")}$(".deletePostButton").on("click",function(){$("#confirmModal").removeClass("hidden").data("caller","deletePost"),$("#confirmModalTitle").html("<p>Művelet megerősítése</p>"),$("#confirmModalContent").html("<p>Figyelem!<br>A bejegyzés törlésekor, a hozzá feltöltött képek és egyéb fájlok is törlődnek!</p><p>Biztosan törlöd a bejegyzést?</p>")}),$("#confirmModal .close-button").on("click",function(){$("#confirmModal").addClass("hidden")}),$("#confirmModal .confirm-button").on("click",function(){$("#confirmModal").data("caller")=="deletePost"&&(window.location=$(".deletePostButton").first().data("href"))}),$("#imagePreviewModal").on("click","#copyBtn",function(){const e=$("#original_url").val();navigator.clipboard.writeText(e).then(function(){alert("Vágólapra másolva!")}).catch(function(i){alert("Hiba történt: "+i)})})});window.Alpine=d;window.$=window.jQuery=f;window.Cookies=r;d.start();
